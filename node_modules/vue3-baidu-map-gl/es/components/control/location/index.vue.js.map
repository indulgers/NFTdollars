{"version":3,"file":"index.vue.js","sources":["../../../../packages/components/control/location/index.vue"],"sourcesContent":["<template></template>\n\n<script setup lang=\"ts\">\n  import { defineProps, withDefaults, defineEmits } from 'vue'\n  import useBaseMapEffect from '../../../hooks/useBaseMapEffect'\n  import useLifeCycle from '../../../hooks/useLifeCycle'\n  import { bindEvents, Callback, type ControlAnchor } from '../../../utils'\n  export interface LocationProps {\n    /**\n     * 控件的停靠位置\n     */\n    anchor?: ControlAnchor\n    /**\n     * 控件的偏移值\n     */\n    offset?: {\n      x: number\n      y: number\n    }\n    onLocationError?: Callback\n    onLocationSuccess?: Callback\n  }\n  const { ready } = useLifeCycle()\n  const props = withDefaults(defineProps<LocationProps>(), {\n    anchor: 'BMAP_ANCHOR_BOTTOM_RIGHT',\n    offset: () => ({ x: 18, y: 18 })\n  })\n  let locationControl: BMapGL.LocationControl\n  const vueEmits = defineEmits(['initd', 'unload', 'locationSuccess', 'locationError'])\n  useBaseMapEffect((map) => {\n    locationControl = new BMapGL.LocationControl({\n      offset: new BMapGL.Size(props.offset.x, props.offset.y),\n      anchor: window[props.anchor]\n    })\n    map.addControl(locationControl)\n    ready(map, locationControl)\n    bindEvents(props, vueEmits, locationControl)\n    return () => map.removeControl(locationControl)\n  })\n</script>\n<script lang=\"ts\">\n  export default {\n    name: 'BLocation'\n  }\n</script>\n"],"names":[],"mappings":";;;;;AAyCE,oBAAe;AACb,IAAA,IAAI,EAAE,WAAW;CAClB,CAAA;;;;;;;;AArBD,QAAA,MAAM,EAAE,KAAK,EAAE,GAAG,YAAY,EAAE,CAAA;AAKhC,QAAA,IAAI,eAAuC,CAAA;AAE3C,QAAA,gBAAgB,CAAC,CAAC,GAAG,KAAI;AACvB,YAAA,eAAe,GAAG,IAAI,MAAM,CAAC,eAAe,CAAC;AAC3C,gBAAA,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;AACvD,gBAAA,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;AAC7B,aAAA,CAAC,CAAA;AACF,YAAA,GAAG,CAAC,UAAU,CAAC,eAAe,CAAC,CAAA;AAC/B,YAAA,KAAK,CAAC,GAAG,EAAE,eAAe,CAAC,CAAA;AAC3B,YAAA,UAAU,CAAC,KAAK,EAAE,QAAQ,EAAE,eAAe,CAAC,CAAA;YAC5C,OAAO,MAAM,GAAG,CAAC,aAAa,CAAC,eAAe,CAAC,CAAA;AACjD,SAAC,CAAC,CAAA;;;;;;;;;;"}